<template>
	<view class="kw-alert-input">
		<view class="kw-alert-input-mask" ></view>
    <view class="kw-alert-input-content">
      <view class="kw-alert-input-list">
        <!-- 输入框 -->
        <view class="kw-alert-input-list-input" v-if="!isCheck && !isTextarea">
          <input :value="inputList.value" @input="inputChange"/>
          <view class="kw-alert-input-info">{{inputList.info}}</view>
        </view>
        <!-- 单项选择器 -->
        <radio-group class="kw-alert-input-radio" v-if="isCheck" @change="radioChange">
          <view v-for="(item,key) in checkList" :key="key" class="">
            <label>
              <radio :value="item.value" :checked="item.value==checkRadio" />
              {{item.label}}
              </label>
          </view>  
        </radio-group>
        <!-- 文本域 -->
        <view v-if="isTextarea" class="kw-alert-input-textarea">
          <textarea :value="textareaList.value" :placeholder="textareaList.info" maxlength="1000" @input="texTareaChange"></textarea>
        </view>
        <!-- 确定取消 -->
        <view class="kw-alert-input-gn">
          <button size="mini" class="kw-alert-input-confirm" @tap="confirm()">确定</button>
          <button size="mini" class="kw-alert-input-close" @tap="close()">取消</button>
        </view>
      </view>
    </view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
			};
		},
    props:{
      // 输入框数据
      inputList: {
        type: Object,
        default () {
          return {
            value: "", // 输入框值
            info: "请输入" ,// 输入框下面的提示信息
          }
        }
      },
      // 是否单项选择器
      isCheck: {
        type: [Boolean, String],
        default: false
      },
      // 选择器值
      checkList:{
        type: Object,
        default() {
          return[
            {value:"",label:"选择一"}
          ]
        }
      },
      // 选择器事先选中的值
      checkRadio: {
        type: String,
        default () {
          return "1"
        }
      },
      //是否文本域
      isTextarea:{
        type: [Boolean, String],
        default: false
      },
      // 文本域值
      textareaList:{
        type: Object,
        default() {
          return {value:"",info:"请输入"}
        }
      },
    },
    onReady() {
    	// console.log(this.list)
    },
    methods:{
      // 点击确定
      confirm(){
        if(this.isCheck){
          this.$emit("confirm",{
            value:this.checkRadio
          })
        } else if(this.isTextarea){
          this.$emit("confirm",{
            value:this.textareaList.value
          })
        } else{
          this.$emit("confirm",{
            value:this.inputList.value
          })
        }
      },
      // 点击取消
      close(){
        this.$emit("close")
      },
			// input改变时触发
			inputChange(evt) {
			  this.inputList.value = evt.target.value
			},
      // radion改变时触发
      radioChange(evt) {
        this.checkRadio = evt.target.value
      },
      // texTarea改变时触发
      texTareaChange(evt){
        this.textareaList.value = evt.target.value
      }
    }
	}
</script>

<style lang="scss">
  .kw-alert-input{
    z-index: 1001;
    display: flex;
    position: fixed;
    height: calc(100vh - 44px);
    width: 100%;
    top: 44px;
    left: 0;
    /* #ifdef MP-WEIXIN */
    height: 100vh;
    top: 0;
    /* #endif */
  }
  .kw-alert-input-mask{
    z-index: 999;
    position: fixed;
    background: rgba(0, 0, 0, 0.5);
    height: calc(100vh - 44px);
    width: 100%;
    top: 44px;
    left: 0;
    /* #ifdef MP-WEIXIN */
    height: 100vh;
    top: 0;
    /* #endif */
  }
  .kw-alert-input-content{
    z-index: 1001;
    margin: auto;
    width: 100%;
    margin-left: 20upx;
  }
  .kw-alert-input-list{
    width:710upx;
    background: white;
    padding:100upx 20upx 20upx;
    border-radius: 10upx;
    position: relative;
    
  }
  .kw-alert-input-list-input{
    input{
      border-bottom: #67DF71 solid 1upx;
    }
    .kw-alert-input-info{
      color: #999999;
    }
  }
  .kw-alert-input-gn{
    position: absolute;
    top: 20upx;
    left: 20upx;
    width: 670upx;
    .kw-alert-input-confirm{
      background: #01a1eb;
      position: absolute;
      top:0;
      left:0;
      color: white;
    }
    .kw-alert-input-close{
      position: absolute;
      top:0;
      right: 0;
      color: #999999;
    }
  }
  .kw-alert-input-radio{
    margin-top: 20upx;
		max-height: 70vh;
    overflow: auto;
    label{
      radio{
        margin-right: 20upx;
      }
    }
  }
  .kw-alert-input-textarea{
    border: #999999 solid 2upx;
    padding: 20upx;
    textarea{
      width: 100%;
    }
  }
</style>
