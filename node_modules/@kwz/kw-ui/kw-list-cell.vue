<!-- 列表单元 -->
<template>
	<view v-show="show" class="kw-list-cell" @tap="goLink"
        :class="[{'kw-list-cell-isNote':note},{'kw-list-cell-border-top': border.top},{'kw-list-cell-border-bottom': border.bottom},]">
    <!-- 左侧图标 -->
    <view class="kw-list-cell-extraIcon" v-if="JSON.stringify(extraIcon) == '{}' && !thumb" >
      <uni-icon :color="extraIcon.color" size="23" :type="extraIcon.type"></uni-icon>
    </view>
    <view class="kw-list-cell-thumb" v-if="thumb">
      <image :src="thumb" mode="scaleToFill"></image>
    </view>
    <!-- 中间内容 -->
    <view class="kw-list-cell-content">
      <view class="kw-list-cell-leftContent" v-if="title!=undefined || note!=undefined">
        <text v-if="title" class="kw-list-cell-title">{{title}}</text>
        <text v-if="note" class="kw-list-cell-note">{{note}}</text>
      </view>
      <view class="kw-list-cell-rightContent" v-if="rightNote != undefined">
        <text class="kw-list-cell-rightNote">{{rightNote}}</text>
        <!-- 右侧描述位置插槽 -->
        <slot name="rightNote"></slot>
      </view>
      <!-- 中间默认插槽 -->
      <view style="width:100%" v-if="!(title!=undefined || note!=undefined || rightNote!=undefined)">
        <slot></slot>
      </view>
      
    </view>
    <!-- 右边标记 -->
    <!-- <uni-badge v-if="badge" :text="badge.text" :type="badge.type" :inverted="badge.inverted"></uni-badge> -->
    <view v-if="redDot" class="kw-list-cell-redDot">
      <text>&bull;</text>
    </view>
    <view class="kw-list-cell-isArrow" v-if="isArrow">
      <uni-icon color="#bbb" size="20" type="arrowright"></uni-icon>
    </view>
	</view>
</template>

<script>
	export default {
    name: "list-cell",
		components:{},
    props: {
			// 标题
      title: String,
			// 描述
      note: String,
			// 左侧扩展图标
      extraIcon: {
        type: Object,
        default () {
          return {
            type: "contact",
            color: "#000000",
            size: "20"
          };
        }
      },
			// 左侧缩略图
      thumb: String, 
//       badge: {  // 右侧数字角标 先不做小红点
//         type: Object,
//         default () {
//           return {};
//         }
//       }
			// 右侧描述文字
      rightNote: String,
			// 右侧小红点
      redDot: {
        type: [Boolean, String],
        default: false
      },
			// 右侧灰箭头
      isArrow: {
        type: [Boolean, String],
        default: true
      },
			// 上下边框
      border: {
        type: Object,
        default () {
          return {
            top : false,
            bottom: true
          }
        }
      },
			// 链接
      link: String,
			show: {
				type: Boolean,
				default: true
			}
		},
    components: {},
    methods: {
      goLink() {
        if(this.link){
          uni.navigateTo({
              url: this.link
          });
        }
				this.$emit('click')
      }
    }
	}
</script>

<style lang="scss">
  .kw-list-cell{
    min-height: 95upx;
    padding: 20upx 20upx;
    display: flex;
    flex-direction: row;
    box-sizing: border-box;
    position: relative;
    background: white;
  }
  .kw-list-cell-isNote{
    height: 145upx;
    .kw-list-cell-extraIcon,.kw-list-cell-thumb{
      width: 95upx;
      height: 95upx;
      line-height: 95upx;
    }
    .kw-list-cell-redDot,.kw-list-cell-isArrow,.kw-list-cell-rightNote{
      line-height: 95upx;
    }
    .kw-list-cell-title,.kw-list-cell-note{
      line-height: 47upx;
    }
  }
  .kw-list-cell-extraIcon,.kw-list-cell-thumb{
    width: 45upx;
    height: 45upx;
    line-height: 45upx;
    display:flex;
    align-self:flex-start;
    margin-right: 25upx;
  }
  .kw-list-cell-thumb image{
    width: 100%;
    height: 100%;
  }
  .kw-list-cell-content{
    width: calc(100% - 45upx);
    flex-shrink: 2;
    flex-grow: 2;
    display: flex;
    flex-direction: row;
    overflow:hidden;
    .kw-list-cell-leftContent{
      display: flex;
      flex-direction: column;
      overflow:hidden;
      width: 100%;
      flex-grow: 10;
      flex-shrink: 10;
      line-height: 45upx;
      .kw-list-cell-title{
        font-size: 28upx;
        color: #333333;
        text-overflow: ellipsis;
        overflow:hidden;
        white-space:nowrap;
      }
      .kw-list-cell-note{
        font-size: 24upx;
        color: #666666;
        text-overflow: ellipsis;
        overflow:hidden;
        white-space:nowrap;
      }
    }
    .kw-list-cell-rightContent{
      line-height: 45upx;
      display: flex;
      flex-direction: row-reverse;
      width: 100%;
      flex-grow: 10;
      flex-shrink: 10;
      .kw-list-cell-rightNote{
        font-size: 26upx;
        color: #999999;
        text-overflow: ellipsis;
        overflow:hidden;
        white-space:nowrap;
      }
    }
  }
  .kw-list-cell-redDot{
    color: red;
    font-size: 45upx;
    line-height: 45upx;
    margin-left: 20upx;
		text{
      color: red;
    }
  }
  .kw-list-cell-isArrow{
    margin-left: 20upx;
    line-height: 45upx;
  }
  .kw-list-cell-border-top::before{
    position: absolute;
    z-index: 3;
    right: 0;
    top: 0;
    left: 0;
    height: 1px;
    content: '';
    transform: scaleY(.5);
    background-color: #c8c7cc;
    margin:0 20upx;
  }
  .kw-list-cell-border-bottom::after{
    position: absolute;
    z-index: 3;
    right: 0;
    bottom: 0;
    left: 0;
    height: 1px;
    content: '';
    transform: scaleY(.5);
    background-color: #c8c7cc;  
    margin:0 20upx;
  }
</style>
